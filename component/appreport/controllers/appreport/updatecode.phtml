<?php App::Helper('Toolbar')->setTitle("Report : {$AppReport['name']} ({$AppReport['code']})")->Render(array('code'=>'report_manage_bottom'));?><div id="code-editor"><?php echo htmlentities(App::Component('appReport')->Helper('Data')->Report($id,'code'));?></div><script type="text/javascript">			var editor = ace.edit("code-editor");	editor.getSession().setMode("ace/mode/php");	function resizeAce() {				  return jQuery('#code-editor').height(jQuery(window).height()-200);	};	jQuery(window).resize(resizeAce);	resizeAce();		jQuery(document).ready(function () {		jQuery(".save_data").click(function(event) {			jQuery('.buttons').css('background','url("' + siteInfo.baseUrl + '/images/loading.gif") no-repeat 220px center');			jQuery('#loading').remove();			jQuery.ajax({				url: siteInfo.baseUrl + "/appreport/updatecode/<?php echo $id; ?>",				context: document.body,				type: "POST",				data:{content:editor.getSession().getValue()}			})			.done(function(data) {				jQuery('.buttons').append('&nbsp;<span id="loading" style="color:green">Saved Succeffully.</span>');				jQuery('.buttons').css('background','none');						});						});	});		 function popup(id){		var win = window.open(siteInfo.baseUrl + '/appreport/execute/' + id ,'name','resizable=1,menubar=1,scrollbars=1,height=600,width=800');			if(win.focus()){			win.focus();		}}</script><?php App::Helper('Toolbar')->setBtnCustomHTML('<input type="button" class="save_data" name="Save" value="Save" /> <input type="button" value="Apply" onclick="popup(\'' . $id . '\')" />')->setBtnBack()->Render(array('code'=>'report_manage_bottom')); ?>